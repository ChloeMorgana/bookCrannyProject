{% extends 'bookcranny/base.html' %}
{% load staticfiles %}
{% block title_block %} {{ book }} {% endblock %}
{% block content_block %}

<script type="text/javascript" src="{% static 'review.js' %}"></script>

<h1>{{ rating.title }} <span style="float: right; font-size:1em">{{ rating.as_stars }}</span></h1>

<p>
	Reviewed by: <a href="{% url 'bookCranny:user' rating.username %}" class="a_button">{{ rating.username }}</a>
</p>
<p>
	{{ book }} by {{ book.author }}
</p>
<textarea class="ratingtextarea" id="ratingtextarea" readonly>{{ rating.review }}</textarea>

<!-- new -->
{% if user_is_owner %}
<p>
	<a href="javascript:make_editable()" class="a_button" id="edit_btn">Edit</a>
	<a href="javascript:location.reload()" class="a_button hidden" id="cancel_btn">Cancel</a>
	
	<a href="javascript:none" class="a_button hidden hb_right" id="submit_btn">Submit</a>
</p>
{% endif %}
<!-- new -->

{% comment %}
<!-- editing existing reviews is in the wireframe but not in the spec, might not be implemented in time -->
<p>
	<a href="javascript:make_editable()" class="a_button" id="edit_btn">Edit</a>
	<a href="javascript:location.reload()" class="a_button hidden" id="cancel_btn">Cancel</a>
	
	<a href="javascript:none" class="a_button hidden hb_right" id="submit_btn">Submit</a>
</p>
{% endcomment %}
<p>
	<a href="{% url 'bookCranny:book' book.ISBN %}" class="a_button hb_right">Back to the book</a>
</p>
{% endblock %}